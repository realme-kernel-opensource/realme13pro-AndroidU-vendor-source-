// SPDX-License-Identifier: GPL-2.0-only
/*
 * Copyright (C) 2023 Oplus. All rights reserved.
 */

#ifndef _OPLUS_KD_IMGSENSOR_DATA_V4L2_H
#define _OPLUS_KD_IMGSENSOR_DATA_V4L2_H

#define IMGSENSOR_MODULE_SN_LENGTH       (16)
#define DUALCAM_CALI_DATA_LENGTH         (1561)
#define OPLUS_STEREO_CALI_DATA_LENGTH     (1561)
#define OPLUS_STEREO_CALI_DATA_LENGTH_QCOM     (1561 + 128)
#define DUALCAM_CALI_DATA_LENGTH_TOTAL        (3102)
#define DUALCAM_CALI_DATA_LENGTH_TOTAL_QCOM   (3102 + 128)
#define AESYNC_DATA_LENGTH_TOTAL              (65)
#define AESYNC_DATA_LENGTH_SINGLE             (36)
#define AESYNC_DATA_LENGTH_MASTER             (35)
#define AESYNC_DATA_LENGTH_WIDE               (35)
#define AESYNC_DATA_LENGTH_TELE               (23)
#define DUALCAM_CALI_DATA_LENGTH_QCOM         (1561 + 128)
#define DUALCAM_CALI_HEADER_DATA_LENGTH       (40)
#define DUALCAM_CALI_EXTERNALCOEF_DATA_LENGTH (24)
#define DUALCAM_CALI_INTERNALCOEF_DATA_LENGTH (1517)
#define DUALCAM_CALI_TAIL_DATA_LENGTH         (4)
#define DUALCAM_CALI_EEPROM_DATA_LENGTH     (1589)  //1561+20+8
#define DUALCAM_CALI_DATA_DACCODE_OFFSET      (43)

#define IMX686_STEREO_START_ADDR          (0x26D0)
#define HI846_STEREO_START_ADDR           (0x1E80)
#define HI846_STEREO_START_ADDR_20645     (0x1A20)


#define S5KGW1_STEREO_START_ADDR_WIDE     (0x1900)
#define S5KGW1_STEREO_START_ADDR_TELE     (0x1F20)
#define S5KGW1_AESYNC_START_ADDR          (0x2540)
#define S5KGH1_STEREO_START_ADDR          (0x1360)
#define GC5035_STEREO_START_ADDR          (0x1600)
#define GC8054_STEREO_START_ADDR          (0x2180)
#define GC8054_AESYNC_START_ADDR          (0x0C90)
#define S5K3M5_STEREO_START_ADDR          (0x2600)
#define S5K3M5_AESYNC_START_ADDR          (0x2D00)
#define GC02M0F_STEREO_START_ADDR         (0x1408)
#define GM1ST_STEREO_START_ADDR           (0x2840)
#define IMX471_STEREO_START_ADDR          (0x1000)
#define OV32A_STEREO_START_ADDR           (0x1000)
#define GC02M1B_STEREO_START_ADDR         (0x1500)
#define OV02B1B_STEREO_START_ADDR         (0x1500)
#define OV02B10_STEREO_START_ADDR         (0x1500)
#define HI846_STEREO_START_ADDR_19537     (0x1A20)

#define IMX766_STEREO_START_ADDR          (0x2B00)

#define IMX766_STEREO_MT_START_ADDR       (0x31C0)

#define IMX766DUAL_STEREO_START_ADDR      (0x5CF0)
#define IMX586_STEREO_START_ADDR          (0x2600)
#define IMX586_STEREO_START_ADDR_WIDE     (0x2600)
#define IMX586_STEREO_START_ADDR_TELE     (0x2CB0)
#define IMX586_AESYNC_START_ADDR          (0x3360)
#define S5K3M5SX_STEREO_START_ADDR        (0x2600)
#define S5K3M5SX_AESYNC_START_ADDR        (0x2A20)
#define IMX319_STEREO_START_ADDR          (0x2600)
#define IMX319_AESYNC_START_ADDR          (0x2D00)
#define IMX355_STEREO_START_ADDR          (0x2E00)
#define IMX766_AESYNC_START_ADDR          (0x3380)
#define IMX766DUAL_AESYNC_START_ADDR      (0x5CE8)
#define IMX766_AESYNC_START_ADDR_21007    (0x3880)
#define IMX766DUAL_AESYNC_START_ADDR_21007 (0x6310)

#define OV48B_STEREO_START_ADDR          (0x2840) //
#define OV48B_STEREO_START_ADDR_WIDE     (0x2840)
#define OV48B_STEREO_START_ADDR_TELE     (0x2EA0)
#define OV48B_AESYNC_START_ADDR          (0x2820) //for later use
#define HI846_STEREO_START_ADDR_19131    (0x1A20)
#define S5K3P9SP_STEREO_START_ADDR       (0x0700) //
#define GC02M0B_STEREO_START_ADDR        (0x1500) //
#define OV64B_STEREO_START_ADDR          (0x2000)

#define CALI_DATA_MASTER_LENGTH_20615    (1557 + 128)
#define CALI_DATA_SLAVE_LENGTH_20615     (1545)
#define IMX682_STEREO_START_ADDR_20615   (0x2840)
#define HI846_STEREO_START_ADDR_20615    (0x1A20)
#define OV64B_STEREO_START_ADDR_20730    (0x2000)
#define OV8856_STEREO_START_ADDR_20730   (0x3A00)
#define CALI_DATA_MASTER_LENGTH_20730    (1689)
#define CALI_DATA_SLAVE_LENGTH_20730     (1413)

#define IMX800LUNA_STEREO_START_ADDR      (0x6E80)
#define IMX800LUNA_STEREO_MT_START_ADDR   (0x5F40)
#define IMX800LUNA_AESYNC_START_ADDR      (0x7620)
#define S5KJN1LUNA_STEREO_START_ADDR      (0x4C80)
#define S5KJN1LUNA_AESYNC_START_ADDR      (0x5390)
#define IMX890LUNA_STEREO_START_ADDR      (0x2B00)
#define IMX890LUNA_STEREO_MT_START_ADDR   (0x31C0)
#define IMX890LUNA_AESYNC_START_ADDR      (0x3880)
#define IMX890TELELUNA_STEREO_START_ADDR      (0x4EF0)
#define IMX890TELELUNA_AESYNC_START_ADDR      (0x5549)

#define DUALCAM_CALI_DATA_LENGTH_TOTAL_TELE   (2450)
#define DUALCAM_CALI_DATA_LENGTH_TELE         (909)
#define CALI_DATA_MASTER_LENGTH               (1557)
#define CALI_DATA_MASTER_LENGTH_QCOM          (1557+128)
#define CALI_DATA_SLAVE_LENGTH                (1545)
#define CALI_DATA_SLAVE_LENGTH_20645          (1561)
#define CALI_DATA_MASTER_LENGTH_8ALIGN        (1560)
#define CALI_DATA_MASTER_LENGTH_QCOM_8ALIGN   (1560+128)
#define CALI_DATA_SLAVE_LENGTH_8ALIGN         (1552)
#define CALI_DATA_SLAVE_TELE_LENGTH           (893)
#define CALI_DATA_SLAVE_TELE_LENGTH_8ALIGN    (896)
#define CAMERA_EEPROM_MAIN_LENGTH             (3164)
#define CAMERA_EEPROM_NORMAL_LENGTH           (1596)
#define CAMERA_EEPROM_NORMAL_LENGTH_QCOM      (1596+128)
#define CAMERA_EEPROM_TELE_LENGTH             (924)

#define CAMERA_MODULE_INFO_LENGTH (8)
#define CAMERA_MODULE_SN_LENGTH   (20)
#define LENGTH_FOR_SNPRINTF       (256)
#define EEPROM_WRITE_FUNCTION_NUM (3)
#define WRITE_DATA_MAX_LENGTH     (16)
#define CAMERA_EEPPROM_COMDATA_LENGTH     (64)
/*Dualcam Cali Mode*/
#define REAR__PORTRAIT_CALIMODE           (1)
#define MAIN_AND_WIDE_CALIMODE            (11)
#define MAIN_AND_TELE_CALIMODE            (12)
#define MAIN_AND_TELE_CALIMODE_105CM      (13)
#define FRONT_PORTRAIT_MODE               (10)
#define WRITE_EEPROM_AE_SYNC_MASTER       (14)
#define WRITE_EEPROM_AE_SYNC_WIDE         (15)
#define WRITE_EEPROM_AE_SYNC_TELE         (16)
#define SENSOR_DEV_MAIN4_IDX              (0x20)
#define IMX890LUNA_STEREO_MT_105CM_START_ADDR   (0x6E80)
#define IMX766LUNA_STEREO_105CM_START_ADDR      (0x5540)
#define IMX890TELELUNA_STEREO_105CM_START_ADDR      (0x5540)

#define NVWAMAIN_STEREO_START_ADDR            (0x2B00)
#define NVWAMAIN_STEREO_MT_START_ADDR         (0x31C0)
#define NVWAMAIN_STEREO_MT_105CM_START_ADDR   (0x6400)
#define NVWAMAIN_AESYNC_START_ADDR            (0x3880)
#define NVWAUWIDE_STEREO_START_ADDR           (0x51F0)
#define NVWAUWIDE_AESYNC_START_ADDR           (0x4BE0)
/*MOCHA SEM1217S, the starting address must be 0xXX00 or 0xXX80.*/
#define NVWATELE_STEREO_START_ADDR            (0XDD00)
#define NVWATELE_STEREO_105CM_START_ADDR      (0xE400)
#define NVWATELE_AESYNC_START_ADDR            (0xEB00)

#define NVWASUN2_STEREO_START_ADDR            (0x2B00)
#define NVWASUN2_STEREO_MT_START_ADDR         (0x31C0)
#define NVWASUN2_AESYNC_START_ADDR            (0x3880)
#define NVWASUN2_STEREO_MT_105CM_START_ADDR   (0x6E80)
#define NVWAEARTH_STEREO_START_ADDR           (0x4EF0)
#define NVWAEARTH_AESYNC_START_ADDR           (0x5549)
#define NVWAEARTH_STEREO_105CM_START_ADDR     (0x5540)
#define NVWAMARS2_STEREO_START_ADDR           (0x3150)
#define NVWAMARS2_AESYNC_START_ADDR           (0x3800)
#define NVWAMARS_STEREO_START_ADDR            (0x3FFF)
#define NVWAMARS_AESYNC_START_ADDR            (0x3B28)

#define OMEGAS2MAIN_STEREO_START_ADDR         (0x2FBA)
#define OMEGAS2MAIN_STEREO_MT_START_ADDR         (0x3655)
#define OMEGAS2MAIN_AESYNC_START_ADDR            (0x3CF0)
#define OMEGAS2WIDE_STEREO_START_ADDR            (0x2E00)
#define OMEGAS2WIDE_AESYNC_START_ADDR            (0x348D)
#define OMEGAS2TELE_STEREO_START_ADDR            (0x3150)
#define OMEGAS2TELE_STEREO_105CM_START_ADDR      (0xE400)
#define OMEGAS2TELE_AESYNC_START_ADDR            (0x3800)
#define OMEGAS2FRONT_STEREO_START_ADDR            (0X2200)
#define OMEGAS2FRONT_AESYNC_START_ADDR            (0x3800)

#define OMEGAS3MAIN_STEREO_START_ADDR         (0x2FBA)
#define OMEGAS3MAIN_STEREO_MT_START_ADDR         (0x3655)
#define OMEGAS3MAIN_AESYNC_START_ADDR            (0x3CF0)
#define OMEGAS3WIDE_STEREO_START_ADDR            (0x2E00)
#define OMEGAS3WIDE_AESYNC_START_ADDR            (0x348D)
#define OMEGAS3FRONT_STEREO_START_ADDR            (0X2200)
#define OMEGAS3FRONT_AESYNC_START_ADDR            (0x3800)
#define OMEGAS3FRONT2_STEREO_START_ADDR            (0X2200)
#define OMEGAS3FRONT2_AESYNC_START_ADDR            (0x3800)

#define CASIOMAIN_STEREO_START_ADDR            (0x2FBA)
#define CASIOMAIN_STEREO_MT_START_ADDR         (0x3655)
#define CASIOMAIN_AESYNC_START_ADDR            (0x3CF0)
#define CASIOWIDE_STEREO_START_ADDR            (0x2E00)
#define CASIOWIDE_AESYNC_START_ADDR            (0x348D)
#define CASIOFRONT_STEREO_START_ADDR           (0x0700)

enum ACDK_WRITE_EEPROM_RETURN_ENUM{
  /* Normal Handle enum */
  ENGMODE_EEPROMINFO_HANDLE_SCUESS       = 0x0,
  ENGMODE_EEPROMINFO_HANDLE_FAILED,
  ENGMODE_WRITE_EEPROM_SCUESS,                   /* Write eep scuess */
  ENGMODE_WRITE_EEPROM_FAILED,                   /* Write eep failed */
  ENGMODE_WRITE_EEPROM_INVALIDINFO,              /* Invalid Info */

  /* Normal Dualcam enum */
  ENGMODE_WRITE_EEPROM_DUALCAM_FRONT  = FRONT_PORTRAIT_MODE, /*FrontDualCam*/
  ENGMODE_WRITE_EEPROM_DUALCAM_REAR   = REAR__PORTRAIT_CALIMODE, /*RearDualCam*/

  /* Tricam enum */
  ENGMODE_WRITE_EEPROM_TRICAM_MW      = MAIN_AND_WIDE_CALIMODE, /*TriCam_MW*/
  ENGMODE_WRITE_EEPROM_TRICAM_MT      = MAIN_AND_TELE_CALIMODE, /*TriCam_MT*/
  ENGMODE_WRITE_EEPROM_TRICAM_MT_105CM  = MAIN_AND_TELE_CALIMODE_105CM, /*TriCam_MT 105CM*/

  /* AESync enum */
  ENGMODE_WRITE_EEPROM_AESYNC_MASTER  = WRITE_EEPROM_AE_SYNC_MASTER, /*Aesync_Master*/
  ENGMODE_WRITE_EEPROM_AESYNC_WIDE,              /*Aesync_Wide*/
  ENGMODE_WRITE_EEPROM_AESYNC_TELE,              /*Aesync_Tele*/

  ENGMODE_WRITE_EEPROM_ENUM_MAX
};

typedef struct {
  MUINT32 uSensorId;
  MUINT32 uDeviceId;
  MUINT16 baseAddr;
  MUINT16 dataLength;
  MUINT8  uData[DUALCAM_CALI_DATA_LENGTH_QCOM];
  } ACDK_SENSOR_ENGMODE_STEREO_STRUCT, *PACDK_SENSOR_ENGMODE_STEREO_STRUCT;

typedef struct {
    MINT32 i4SensorIdx[2];
    MINT32 i4SensorDev[2];
    MINT32 i4SensorID[2];
    MINT32 i4WriteOtp_Addr[2];
    MINT32 i4WriteOtp_DataLens[2];
    MUINT8  uData[DUALCAM_CALI_DATA_LENGTH_TOTAL_QCOM];
    MUINT8  uDataAesync[DUALCAM_CALI_DATA_LENGTH_TOTAL_QCOM];
}DUALCAMCALI_WRITEEEPROM_STRUCT, *PDUALCAMCALI_WRITEEEPROM_STRUCT;

struct SENSOR_SETTING_INFO_STRUCT {
        MUINT32 sensor_scenario_usage;
        MINT32 equivalent_fps;
};

#define MASK_BASE 0x0001
enum SENSOR_SCENARIO_ENUM{
        UNUSE_MASK = 0x0000,
        NORMAL_MASK = MASK_BASE <<0 ,
        EXPLORER_MASK = MASK_BASE << 1,
        INSENSORZOOM_MASK = MASK_BASE << 2,
        HDR_RAW_STAGGER_2EXP_MASK = MASK_BASE << 3,
        HDR_RAW_MSTREAM_2EXP_MASK = MASK_BASE<< 4,
        RMSC_MASK = MASK_BASE << 5,
};

#define OPLUS_EXTERN_ACDK_SENSOR_FEATURE_ENUM    \
        SENSOR_FEATURE_GET_EEPROM_DATA, \
        SENSOR_FEATURE_SET_SENSOR_OTP, \
        SENSOR_FEATURE_CHECK_MODULE_ID, \
        SENSOR_FEATURE_GET_MODULE_SN, \
        SENSOR_FEATURE_GET_MODULE_INFO, \
        SENSOR_FEATURE_GET_SENSOR_OTP_ALL, \
        SENSOR_FEATURE_GET_IS_STREAMING_ENABLE, \
        SENSOR_FEATURE_GET_EEPROM_COMDATA, \
        SENSOR_FEATURE_GET_EEPROM_STEREODATA, \
        SENSOR_FEATURE_GET_OTP_QCOM_PDAF_DATA, \
        SENSOR_FEATURE_GET_OTP_QCOM_PDAF_OFFSET_DATA, \
        SENSOR_FEATURE_GET_SENSOR_SETTING_INFO, \
        SENSOR_FEATURE_GET_DISTORTIONPARAMS

#endif    /* _OPLUS_KD_IMGSENSOR_DATA_V4L2_H */
